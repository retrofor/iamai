import { Callout } from 'nextra/components'

# å¿«é€Ÿä¸Šæ‰‹

## å®‰è£…

<Callout type="warning" emoji="âš ï¸">
  iamai ä»…æ”¯æŒ Python 3.8+ ç‰ˆæœ¬ã€‚
</Callout>

ä½¿ç”¨ Python è½¯ä»¶åŒ…å®‰è£…ç¨‹åºï¼ˆpipï¼‰è¿›è¡Œå®‰è£…ï¼š

```sh filename="bash"
pip install iamai
```

ä» GitHub ä¸­å®‰è£…æœ€æ–°çš„æµ‹è¯•ç‰ˆï¼š

```sh filename="bash"
git clone https://github.com/retrofor/iamai.git
cd iamai
poetry install --no-dev  # æ¨èä½¿ç”¨ poetry è¿›è¡Œå®‰è£…
```

## å®‰è£…é€‚é…å™¨

iamai æœ¬èº«åªæ˜¯ä¸€ä¸ªèŠå¤©æœºå™¨äººæ¡†æ¶ï¼Œéœ€è¦é¢å¤–å®‰è£…å¯¹åº”åè®®çš„é€‚é…å™¨æ¥æ”¯æŒç‰¹å®šçš„åè®®ï¼Œä½ å¯ä»¥ä½¿ç”¨ pip å®‰è£…åè®®é€‚é…å™¨ï¼š

```sh filename="bash"
pip install iamai-adapter-cqhttp
pip install iamai-adapter-mirai
pip install iamai-adapter-dingtalk
```

æˆ–è€…ä½ ä¹Ÿå¯ä»¥åœ¨å®‰è£… iamai çš„åŒæ—¶æ­é…å¯¹åº”çš„é€‚é…å™¨ï¼Œå¦‚ï¼š

```sh filename="bash"
pip install iamai[all]
pip install iamai[cqhttp]
pip install iamai[dingtalk]
```

## ç¬¬ä¸€ä¸ªé¡¹ç›®

æœ¬æ–‡ä¼šå¸®åŠ©ä½ ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªç®€å•çš„ iamai æœºå™¨äººé¡¹ç›®ã€‚

import { Steps } from 'nextra/components'

<Steps>
### åˆ›å»ºå¹¶è¿›å…¥ä¸€ä¸ªæ–°ç›®å½•

      ```sh filename="bash"
      mkdir iamai-starter && cd iamai-starter
      ```

### åˆ›å»ºä¸€ä¸ª `main.py` æ–‡ä»¶å¹¶å†™å…¥ä»¥ä¸‹å†…å®¹

      ```python filename="main.py" showLineNumbers
      from iamai import Bot

      bot = Bot()

      if __name__ == "__main__":
         bot.run()

      ```

### åˆ›å»ºä¸€ä¸ª `config.toml` æ–‡ä»¶å¹¶å†™å…¥ä»¥ä¸‹å†…å®¹

      ```toml filename="config.toml" showLineNumbers
      [bot]
      plugin_dirs = ["plugins"]
      adapters = ["iamai.adapter.cqhttp"]
      ```

### åˆ›å»ºä¸€ä¸ª `plugins` ç›®å½•

      ```sh filename="bash"
      mkdir plugins
      ```

### è¯•è¯•è¿è¡Œ `main.py` å§ï¼

      ```sh filename="bash"
      python main.py
      ```

      ä½ åº”è¯¥ä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºçš„æ—¥å¿—

      ```ansi
      [35m 2023-08-11 00:00:00.000 [32m [INFO] [37m > [36m iamai.bot:_load_plugins_from_dirs:689 [37m - [32m Loading plugins from dirs "/xxx/plugins"
      [35m 2023-08-11 00:00:00.000 [32m [INFO] [37m > [36m iamai.bot:_load_adapters:746 [37m - [32m Succeeded to load adapter "CQHTTPAdapter" from "iamai.adapter.cqhttp"
      [35m 2023-08-11 00:00:00.000 [32m [INFO] [37m > [36m iamai:run:90 [37m - [32m Running iamai...
      ```

</Steps>

## ç›®å½•ç»“æ„

iamai æ¨èçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

import { FileTree } from 'nextra/components'
 
<FileTree>
  <FileTree.Folder name="iamai-starter" defaultOpen>
    <FileTree.Folder name="plugins (æ’ä»¶ç›®å½•)" defaultOpen>
      <FileTree.File name="xxx.py" />
    </FileTree.Folder>
    <FileTree.File name="config.toml (é…ç½®æ–‡ä»¶)" />
    <FileTree.File name="main.py" />
  </FileTree.Folder>
</FileTree>

å…¶ä¸­ `main.py` å’Œ `config.toml` æ–‡ä»¶å¦‚ä¸Šæ–‡æ‰€ç¤ºã€‚

## é…ç½®åè®®ç«¯

ä¸Šé¢çš„ä¾‹å­ä¸­ä½¿ç”¨äº† `iamai.adapter.cqhttp` åè®®é€‚é…å™¨ï¼Œå®ƒæ˜¯ OneBot v11 åè®®ï¼ˆåŸ CKYU å¹³å°çš„ CQHTTP åè®®ï¼‰çš„é€‚é…å™¨ï¼Œéœ€è¦ä¸€ä¸ªå…¼å®¹ OneBot åè®®çš„åè®®ç«¯è¿›è¡Œé€šè®¯ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ”¯æŒ OneBot åè®®çš„ QQ åè®®ç«¯ï¼š

- [go-cqhttp](https://github.com/Mrs4s/go-cqhttp)
- [mirai](https://github.com/mamoe/mirai) + [onebot-kotlin](https://github.com/yyuueexxiinngg/onebot-kotlin)
- [oicq](https://github.com/takayama-lily/oicq)

æ›´å¤šä¿¡æ¯è¯¦è§ [CQHTTP åè®®ä½¿ç”¨æŒ‡å—](./cqhttp-adapter.md) ã€‚

ä½ ä¹Ÿå¯ä»¥å®‰è£…å…¶ä»–åè®®é€‚é…å™¨æˆ–è€…å°è¯•è‡ªå·±å†™ä¸€ä¸ªåè®®é€‚é…å™¨ã€‚

## å¼€å‘å»ºè®®

åœ¨ä½¿ç”¨ iamai è¿›è¡Œå¼€å‘æ—¶ï¼Œå»ºè®®ä½¿ç”¨å…·æœ‰ç±»å‹æ£€æŸ¥çš„ IDEï¼Œå¦‚ PyCharm ã€ VSCode ç­‰ï¼Œè¿™å¯ä»¥å¸®åŠ©ä½ å……åˆ†åˆ©ç”¨ iamai çš„ç±»å‹æç¤ºã€‚
